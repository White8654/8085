<!DOCTYPE html>
<html>
  <head>
    <title>8085 Simulator</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link
      href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Condensed:400|Roboto+Mono:300,400,400i,700&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet"
    />
    <link rel="stylesheet" type="text/css" href="css/general.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
    <link rel="icon" href="/favicon.ico" type="image/x-icon" />
    <link rel="stylesheet" type="text/css" href="style.css" />
    <meta name="theme-color" content="#252B29" />

    
    <meta
      name="google-site-verification"
      content="hrI3XLLbme1o6gHxfAt4wMY3XIZnHVx3C9HiW5fY9xg"
    />
    <meta
      name="description"
      content="A fully-featured 8085 Simulator and Assembler for web browsers. Run or step through your code, generate Hex listings, assemble programs and more."
    />
  </head>


  <body>
    <img  class="image" src="mps8085.jpg" alt="MPS85 Kit" usemap="workmap">
    
      <div id="wrapper">
        <div class="registers--container">
          <span class="register half" id="register-A"> <i> 00 </i> <em>H</em> <b>A</b>  </span>
          
          <span class="register half" id="register-B"> <i> 00 </i> <em>H</em> <b>B</b>  </span>
          <span class="register half" id="register-C"> <i> 00 </i> <em>H</em> <b>C</b>  </span> <br/>
          <span class="register half" id="register-D"> <i> 00 </i> <em>H</em> <b>D</b>  </span>
          <span class="register half" id="register-E"> <i> 00 </i> <em>H</em> <b>E</b>  </span> <br/>
          <span class="register half" id="register-H"> <i> 00 </i> <em>H</em> <b>H</b>  </span>
          <span class="register half" id="register-L"> <i> 00 </i> <em>H</em> <b>L</b>  </span> <br/>
          <span class="register full" id="register-SP"><i>0000</i> <em>H</em> <b>SP</b> </span> <br/>
          <span class="register full" id="register-PC"><i>0000</i> <em>H</em> <b>PC</b> </span>
        </div>
        <div class="display-helper--container">
          
        <div class="display">
          <input
            onClick="this.select(); buttons.setMode('inputAddress');"
            onfocus="blur();"
            class="display-cell"
            type="text"
            value=""
            id="data-input-0"
            maxlength="1"
          />
          <input
            onClick="this.select(); buttons.setMode('inputAddress');"
            onfocus="blur();"
            class="display-cell"
            type="text"
            value=""
            id="data-input-1"
            maxlength="1"
          />
          <input
            onClick="this.select(); buttons.setMode('inputAddress');"
            onfocus="blur();"
            class="display-cell"
            type="text"
            value=""
            id="data-input-2"
            maxlength="1"
          />
          <input
            onClick="this.select(); buttons.setMode('inputAddress');"
            onfocus="blur();"
            class="display-cell"
            type="text"
            value=""
            id="data-input-3"
            maxlength="1"
          />
          <input
            onClick="this.select(); buttons.setMode('inputData');"
            onfocus="blur();"
            class="display-cell"
            type="text"
            value=""
            id="data-input-4"
            maxlength="1"
          />
          <input
            onClick="this.select(); buttons.setMode('inputData');"
            onfocus="blur();"
            class="display-cell"
            type="text"
            value=""
            id="data-input-5"
            maxlength="1"
          />
        </div>

      </div>
      
      <div class="register-buttons--container">
        <div class="extra-buttons--container">
          <span class="extra-button" id="button-SET"> <u>S</u>ET </span>
          <span class="extra-button" id="button-DCR"> D<u>C</u>R </span>
          <span class="extra-button" id="button-EXEC"> E<u>X</u>EC </span>
          <span class="extra-button" id="button-STEP"> STE<u>P</u> </span>
        </div>

        <div class="keypad-buttons--container">  
          <span class="keypad-button" ontouch="fix" id="button-C"> C </span>
          <span class="keypad-button" onfocus="blur()" id="button-D"> D </span>
          <span class="keypad-button" onfocus="blur()" id="button-E"> E </span>
          <span class="keypad-button" onfocus="blur()" id="button-F"> F </span>
          <span class="keypad-button" onfocus="blur()" id="button-8"> 8 </span>
          <span class="keypad-button" id="button-9"> 9 </span>
          <span class="keypad-button" id="button-A"> A </span>
          <span class="keypad-button" id="button-B"> B </span>
          <span class="keypad-button" id="button-4"> 4 </span>
          <span class="keypad-button" id="button-5"> 5 </span>
          <span class="keypad-button" id="button-6"> 6 </span>
          <span class="keypad-button" id="button-7"> 7 </span>
          <span class="keypad-button" id="button-0"> 0 </span>
          <span class="keypad-button" id="button-1"> 1 </span>
          <span class="keypad-button" id="button-2"> 2 </span>
          <span class="keypad-button" id="button-3"> 3 </span>
        </div>
        <div class="extra-buttons--container">
          <span class="extra-button" id="button-RES"> <u>R</u>ES </span>
          <span class="extra-button" id="button-INR"> <u>I</u>NR </span>
          <span class="extra-button" id="button-GO"> G<u>O</u> </span>
          <span class="extra-button" id="button-REG"> RE<u>G</u> </span>
          
        </div>
       
    <div id="helpModal" class="modal disable-selection hidden">
      <span class="header"
        ><span class="material-icons md-18" onclick="closeHelp()"
          >close</span
        ></span
      >
      <iframe src="helptext.html"></iframe>
      <span class="buttons">
        <button type="reset" onclick="askHelp()">Ask Question</button>
        <button type="reset" onclick="closeHelp()">Close</button>
      </span>
    </div>

    <div id="modal-shade" class="hidden" onclick="closeHelp()"></div>

      <script type="text/javascript" src="js/assembler/expr-eval.js"></script>
      <script type="text/javascript" src="js/assembler/textParser.js"></script>
      <script
        type="text/javascript"
        src="js/assembler/preprocessor.js"
      ></script>
    </p>

    <div id="pbus"></div>
    <!-- No requires (Base requires) -->
    <script type="text/javascript" src="js/base/pbus.js"></script>
    <script type="text/javascript" src="js/base/details.js"></script>
    <script type="text/javascript" src="js/base/memory.js"></script>
    <script type="text/javascript" src="js/base/counter.js"></script>
    <script type="text/javascript" src="js/base/conversion.js"></script>
    <script type="text/javascript" src="js/base/microcodes.js"></script>

    <!-- Requires one or more of baserequires (L0 requires) -->
    <script type="text/javascript" src="js/hardware/registers.js"></script>
    <script type="text/javascript" src="js/hardware/display.js"></script>
    <!-- Dependent on DOM -->
    <script type="text/javascript" src="js/hardware/adder.js"></script>
    <script type="text/javascript" src="js/hardware/logical.js"></script>
    <script type="text/javascript" src="js/hardware/shifter.js"></script>

    <!-- Requires one or more of L1 requires -->
    <script type="text/javascript" src="js/manipulators/input.js"></script>
    <!-- Dependant on DOM-->
    <script
      type="text/javascript"
      src="js/manipulators/keyboardHooks.js"
    ></script>
    <!-- Dependant on DOM-->
    <script
      type="text/javascript"
      src="js/manipulators/registerDisplay.js"
    ></script>

    <!-- Requires one or more of L2 requires -->
    <script type="text/javascript" src="js/funcs/dict.js"></script>
    <script type="text/javascript" src="js/funcs/dataMovement.js"></script>
    <script type="text/javascript" src="js/funcs/arithmetic.js"></script>
    <script type="text/javascript" src="js/funcs/logical.js"></script>
    <script type="text/javascript" src="js/funcs/branch.js"></script>
    <script type="text/javascript" src="js/funcs/stack.js"></script>

    <!-- Requires one or more of L4 requires -->
    <script type="text/javascript" src="js/runner/loader.js"></script>
    <script type="text/javascript" src="js/runner/runner.js"></script>

    <!-- For Reading and Saving files -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/1.3.8/FileSaver.min.js"></script>

    <script>
        function myFunction() {
          alert("You clicked on the kit");
        }

        function resetFunction() {
          alert("You clicked on the RESET button!");
        }
        function f1Function() {
          alert("You clicked on the F1 button!");
        }
        function f2Function() {
          alert("You clicked on the F2 button!");
        }
        function nextFunction() {
          alert("You clicked on the NEXT button!");
        }
        function kbFunction() {
          alert("You clicked on the KB INT button!");
        }
        function insertFunction() {
          alert("You clicked on the INSERT button!");
        }
        function deleteFunction() {
          alert("You clicked on the DELETE button!");
        }
        function prevFunction() {
          alert("You clicked on the PREV button!");
        }

        function cFunction() {
          alert("You clicked on the C button!");
        }
        function hFunction() {
          alert("You clicked on the 8/H button!");
        }
        function sphFunction() {
          alert("You clicked on the 4/SPH button!");
        }
        function zeroFunction() {
          alert("You clicked on the 0 button!");
        }

        function dFunction() {
          alert("You clicked on the D button!");
        }
        function lFunction() {
          alert("You clicked on the 9/L button!");
        }
        function splFunction() {
          alert("You clicked on the 5/SPL button!");
        }
        function oneFunction() {
          alert("You clicked on the 1 button!");
        }

        function eFunction() {
          alert("You clicked on the E button!");
        }
        function aFunction() {
          alert("You clicked on the A button!");
        }
        function pchFunction() {
          alert("You clicked on the 6/PCH button!");
        }
        function twoFunction() {
          alert("You clicked on the 2 button!");
        }

        function fFunction() {
          alert("You clicked on the F button!");
        }
        function bFunction() {
          alert("You clicked on the B button!");
        }
        function pclFunction() {
          alert("You clicked on the 7/PCL button!");
        }
        function IFunction() {
          alert("You clicked on the 3/I button!");
        }

        function inFunction() {
          alert("You clicked on the IN BYTE button!");
        }
        function singleFunction() {
          alert("You clicked on the SINGLE STEP button!");
        }
        function regFunction() {
          alert("You clicked on the EXAM REG button!");
        }
        function goFunction() {
          alert("You clicked on the GO button!");
        }

        function outFunction() {
          alert("You clicked on the OUT BYTE button!");
        }
        function blkFunction() {
          alert("You clicked on the BLK MOVE button!");
        }
        function memFunction() {
          alert("You clicked on the EXAM MEM button!");
        }
        function execFunction() {
          alert("You clicked on the EXEC button!");
        }
    </script>
      
    <!-- Allow RST1 and RST5 and RST7 to halt program as in kit -->
    <script type="text/javascript">
      memory.writeAt("0008", "76");
      memory.writeAt("0028", "76");
      memory.writeAt("0038", "76");
      displayCells.setAddress("READ");
      displayCells.setData("Y!");
      console.log("Fixed RSTs");

      function toggleMenu() {
        document.querySelector("#menu").classList.toggle("menu-hidden");
      }

      function showHelp() {
        document.querySelector("#helpModal").classList.remove("hidden");
        document.querySelector("#modal-shade").classList.remove("hidden");
      }

      function closeHelp() {
        document.querySelector("#helpModal").classList.add("hidden");
        document.querySelector("#modal-shade").classList.add("hidden");
      }
      function askHelp() {
        var a = document.createElement("a");
        a.href =
          "mailto:therealrdas@gmail.com?subject=NEUTRINO%20Help%20Needed&body=Enter%20your%20query%20here%3A%0A";
        a.target = "_blank";
        a.click();
      }
    </script>

    <input
      type="file"
      id="file-uploader"
      name="file-upload"
      style="height: 10px !important; opacity: 0; pointer-events: none"
    />

    <!-- Implement sharing, saving, loading -->
    <script src="js/emulator/stateSave.js"></script>
  </body>
</html>
